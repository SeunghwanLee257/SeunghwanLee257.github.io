<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Why We Use FHE | LatticA</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <div class="controls" id="controls">
        <button id="prevBtn" onclick="prevSlide()">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                <polyline points="15,18 9,12 15,6"></polyline>
            </svg>
            Prev
        </button>
        <span id="slideCounter">1 / 9</span>
        <button id="nextBtn" onclick="nextSlide()">
            Next
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                <polyline points="9,18 15,12 9,6"></polyline>
            </svg>
        </button>
        <button id="downloadBtn" onclick="downloadPDF()">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="7,10 12,15 17,10"></polyline>
                <line x1="12" y1="15" x2="12" y2="3"></line>
            </svg>
            Download PDF
        </button>
    </div>

    <div class="deck-wrapper">
        <div class="deck-container" id="deckContainer">

            <!-- Slide 1: Title -->
            <div class="slide active" data-slide="1">
                <div class="slide-inner title-slide">
                    <div class="section-label">For PSE Team</div>
                    <h1 class="big-headline">Why We Use <span class="accent">FHE</span></h1>
                    <p class="title-team">LatticA</p>
                    <p class="sub-text">Fully Homomorphic Encryption for privacy-preserving computation on Ethereum.</p>
                    <p class="title-context">Prepared for Privacy & Scaling Explorations</p>
                </div>
            </div>

            <!-- Slide 2: A - Audit-Ready Dark Pool -->
            <div class="slide" data-slide="2">
                <div class="slide-inner">
                    <span class="slide-num">A</span>
                    <div class="section-label">What we built</div>
                    <h2 class="big-headline">An audit-ready dark pool <span class="accent">is possible.</span></h2>
                    <p class="sub-text">We built Auditable Darkpool -- a ZK Pool where transactions are private, but compliance checks (KYC, AML, OFAC) still work. Privacy and regulation are not mutually exclusive.</p>
                    <p class="sub-text" style="font-size:18px; color:#999;">Participated in Mantle Hackathon. Now targeting Solana Privacy Hackathon 2026. Best candidate for auditable privacy infrastructure on Ethereum.</p>
                    <div class="ref">
                        Reference: <a href="https://walllnut.com/deck/Salary">walllnut.com/deck/Salary</a> -- Full ZK Pool architecture deck
                    </div>
                </div>
            </div>

            <!-- Slide 3: A-2 - How ZK Pool Works (from Salary deck) -->
            <div class="slide" data-slide="3">
                <div class="slide-inner" style="padding: 50px 80px;">
                    <span class="slide-num">A-2</span>
                    <div class="section-label">How it works</div>
                    <h2 class="big-headline" style="font-size:42px; margin-bottom:20px;">ZK Pool: <span class="accent">Privacy</span> Mechanism</h2>

                    <div class="pool-diagram">
                        <div class="pool-flow">
                            <div class="pool-node sender">
                                <div class="node-label">Admin (Relayer)</div>
                                <div class="node-desc">Deposits funds</div>
                                <div class="node-detail">Cannot know usage</div>
                            </div>
                            <div class="pool-arrow">--&gt;</div>
                            <div class="pool-node pool">
                                <div class="node-label">ZK Privacy Pool</div>
                                <div class="node-desc">Fully anonymous inside</div>
                                <div class="node-badge">Tracking Blocked</div>
                            </div>
                            <div class="pool-arrow">--&gt;</div>
                            <div class="pool-node receiver">
                                <div class="node-label">Recipients</div>
                                <div class="node-desc">Withdrawal from Pool</div>
                                <div class="node-detail">Origin unknown</div>
                            </div>
                        </div>

                        <div class="pool-problem-bar">
                            <span class="problem-icon">AML Investigator:</span>
                            <span>Recipients &larr; Pool &larr; Admin(Relayer)... <strong>Cannot connect!</strong></span>
                        </div>

                        <div class="pool-legend-row">
                            <div class="legend-item-pse"><span class="dot-purple"></span> Admin(Relayer): Only deposit (unknown usage)</div>
                            <div class="legend-item-pse"><span class="dot-blue"></span> ZK Pool: Fully anonymous</div>
                            <div class="legend-item-pse"><span class="dot-green"></span> Recipients: Revealed on withdrawal</div>
                            <div class="legend-item-pse problem-legend"><span class="dot-red"></span> Problem: Admin&harr;Recipient link broken</div>
                        </div>
                    </div>

                    <div class="ref">
                        Full architecture: <a href="https://walllnut.com/deck/Salary">walllnut.com/deck/Salary</a> | Based on <a href="https://zkbob.com">zkBob</a>, <a href="https://railgun.org">Railgun</a> pool patterns
                    </div>
                </div>
            </div>

            <!-- Slide 4: B - Why Us -->
            <div class="slide" data-slide="4">
                <div class="slide-inner">
                    <span class="slide-num">B</span>
                    <div class="section-label">Why us</div>
                    <h2 class="big-headline">We're <span class="accent">fast.</span></h2>
                    <p class="sub-text">Our team authored Primitive Gate Bootstrapping -- a new algebraic framework that makes TFHE significantly faster. We don't just use FHE. We improve it.</p>
                    <div class="ref">
                        Next slides: performance comparison table and competitor analysis.
                    </div>
                </div>
            </div>

            <!-- Slide 5: B-1 Performance Table -->
            <div class="slide" data-slide="5">
                <div class="slide-inner" style="padding: 50px 80px;">
                    <span class="slide-num">B-1</span>
                    <div class="section-label">Performance</div>
                    <h2 class="big-headline" style="font-size:40px; margin-bottom:20px;">PPGC vs TFHE: <span class="accent">Comparison</span></h2>

                    <table class="perf-table">
                        <thead>
                            <tr>
                                <th>Metric</th>
                                <th>TFHE (ZAMA)</th>
                                <th>PPGC (Ours)</th>
                                <th>Improvement</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Addition/Subtraction Speed</td>
                                <td>Baseline</td>
                                <td class="accent-cell">1.92x faster</td>
                                <td class="accent-cell">+92%</td>
                            </tr>
                            <tr>
                                <td>Blind Rotation Key Size</td>
                                <td>Baseline</td>
                                <td class="accent-cell">~40% smaller</td>
                                <td class="accent-cell">-40%</td>
                            </tr>
                            <tr>
                                <td>Supported Bit-widths</td>
                                <td>8 fixed (4,8,16,32,40,64,128,256)</td>
                                <td class="accent-cell">All n = 3--256</td>
                                <td class="accent-cell">Continuous</td>
                            </tr>
                            <tr>
                                <td>Latency Reduction (32--256 bit)</td>
                                <td>Baseline</td>
                                <td class="accent-cell">18--50% lower</td>
                                <td class="accent-cell">18--50%</td>
                            </tr>
                            <tr>
                                <td>Gate Evaluation</td>
                                <td>Single Boolean gate per bootstrap</td>
                                <td class="accent-cell">Multi-input hybrid gates (XOR, MAJ, AND-XOR)</td>
                                <td class="accent-cell">PGF Family</td>
                            </tr>
                            <tr>
                                <td>Message Modulus</td>
                                <td>Variable (depends on function)</td>
                                <td class="accent-cell">Fixed t = 4</td>
                                <td class="accent-cell">Simplified</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="ref">
                        Dohyuk Kim, Sin Kim, <strong>Seunghwan Lee</strong>, Dong-Joon Shin. "Low-Latency Fully Homomorphic Arithmetic Using Parallel Prefix Group Circuit with Primitive Gate Bootstrapping." <a href="https://eprint.iacr.org/2025/2150">ePrint 2025/2150</a>
                    </div>
                </div>
            </div>

            <!-- Slide 6: B-2 ZAMA Cross-Device Errors -->
            <div class="slide" data-slide="6">
                <div class="slide-inner" style="padding: 50px 80px;">
                    <span class="slide-num">B-2</span>
                    <div class="section-label">Competitor issues</div>
                    <h2 class="big-headline" style="font-size:40px; margin-bottom:16px;">ZAMA has <span class="accent">cross-device errors.</span></h2>
                    <div class="issue-list" style="gap:12px;">
                        <div class="issue-item">
                            <span class="issue-num">01</span>
                            <p><strong>x86 instruction dependency.</strong> concrete-csprng requires aes, rdseed, or sse2 instruction sets. Fails on VMs and non-x86 environments.</p>
                        </div>
                        <div class="issue-item">
                            <span class="issue-num">02</span>
                            <p><strong>ARM / Apple Silicon incompatibility.</strong> M1/M2 users must cross-compile to x86_64-apple-darwin as a workaround.</p>
                        </div>
                        <div class="issue-item">
                            <span class="issue-num">03</span>
                            <p><strong>Bit-width complexity explosion.</strong> Each additional bit in max bit-width significantly increases PBS table lookup cost. Requires manual tuning per model.</p>
                        </div>
                    </div>
                    <div class="ref">
                        Sources: <a href="https://github.com/zama-ai/concrete/issues/11">concrete#11</a> (VM compilation), <a href="https://github.com/zama-ai/concrete/issues/65">concrete#65</a> (M1 chip), <a href="https://community.zama.org/t/runtimeerror-noparametersfound/897">community.zama.org</a> (NoParametersFound)
                    </div>
                </div>
            </div>

            <!-- Slide 7: B-3 Cross-Device Non-Determinism Deep Dive -->
            <div class="slide" data-slide="7">
                <div class="slide-inner" style="padding: 50px 80px;">
                    <span class="slide-num">B-3</span>
                    <div class="section-label">The real problem</div>
                    <h2 class="big-headline" style="font-size:38px; margin-bottom:16px;"><span class="accent">Different device</span> = Different result.</h2>

                    <table class="perf-table">
                        <thead>
                            <tr>
                                <th>Platform</th>
                                <th>Issue</th>
                                <th>Impact on FHE</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>GPU</strong></td>
                                <td>Non-deterministic floating-point execution order; FFT rounding differs per GPU model</td>
                                <td class="warn-cell">Different ciphertext values across devices</td>
                            </tr>
                            <tr>
                                <td><strong>CPU</strong></td>
                                <td>AVX/SSE floating-point precision varies; x86 vs ARM instruction set mismatch</td>
                                <td class="warn-cell">Bootstrapping results diverge</td>
                            </tr>
                            <tr>
                                <td><strong>FPGA</strong></td>
                                <td>Custom modular arithmetic units use different modulus widths; Montgomery reduction constants differ per design</td>
                                <td class="warn-cell">Incompatible modular arithmetic</td>
                            </tr>
                            <tr>
                                <td><strong>SNARK Primes</strong></td>
                                <td>ZK proof systems use different prime fields (BN254, BLS12-381, Goldilocks, etc.); FHE modulus q must match</td>
                                <td class="warn-cell">Cannot verify across different proof systems</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="insight-bar">
                        FFT (floating-point) is non-deterministic across platforms. NTT (exact modular arithmetic) is deterministic -- but requires matching modulus. When GPU, CPU, and FPGA each use different internal representations, the same FHE computation produces different ciphertexts.
                    </div>

                    <div class="ref">
                        Sources: <a href="https://www.ingonyama.com/post/hardware-review-gpus-fpgas-and-zero-knowledge-proofs">Ingonyama Hardware Review</a> (GPU non-determinism) | <a href="https://cybersecurity.springeropen.com/articles/10.1186/s42400-023-00187-4">FHE Acceleration Survey, Cybersecurity 2023</a> (FFT vs NTT) | <a href="https://bu-icsg.github.io/publications/2023/fhe_accelerator_fpga_hpca2023.pdf">FAB: FPGA FHE Accelerator, HPCA 2023</a> (FPGA modular arithmetic) | <a href="https://trapdoortech.medium.com/zero-knowledge-proof-fpga-or-gpu-97b96ffbf0f">Trapdoor Tech: ZKP FPGA or GPU</a>
                    </div>
                </div>
            </div>

            <!-- Slide 8: C-1 PSE Contributor -->
            <div class="slide" data-slide="8">
                <div class="slide-inner">
                    <span class="slide-num">C-1</span>
                    <div class="section-label">Contributor eligibility</div>
                    <h2 class="big-headline">Can we be <span class="accent">PSE contributors?</span></h2>
                    <div class="two-col">
                        <div class="col">
                            <h4>Benefits</h4>
                            <ul>
                                <li>Grants and mentorship through the Acceleration Program</li>
                                <li>Access to PSE's cryptography research network</li>
                                <li>GitHub portfolio and visibility in the Ethereum ecosystem</li>
                                <li>Potential for further research funding</li>
                            </ul>
                        </div>
                        <div class="col">
                            <h4>Obligations</h4>
                            <ul>
                                <li>Open-source contributions to ZKP / FHE / MPC tooling</li>
                                <li>Deliverables aligned with PSE open task RFPs</li>
                                <li>Knowledge sharing and documentation</li>
                                <li>Collaboration with PSE alumni and core team</li>
                            </ul>
                        </div>
                    </div>
                    <div class="ref">
                        PSE Acceleration Program: <a href="https://github.com/privacy-scaling-explorations/acceleration-program">github.com/privacy-scaling-explorations/acceleration-program</a> | <a href="https://pse.dev/programs">pse.dev/programs</a>
                    </div>
                </div>
            </div>

            <!-- Slide 9: C-2 Ethereum FHE Teams -->
            <div class="slide" data-slide="9">
                <div class="slide-inner">
                    <span class="slide-num">C-2</span>
                    <div class="section-label">Collaboration</div>
                    <h2 class="big-headline" style="font-size:44px;">Which Ethereum teams should we <span class="accent">experiment FHE</span> with?</h2>
                    <div class="team-list">
                        <div class="team-chip">ZAMA<span>TFHE Compiler, Concrete ML</span></div>
                        <div class="team-chip">Sunscreen<span>FHE compiler for web3</span></div>
                        <div class="team-chip">Fhenix<span>FHE rollup on Ethereum</span></div>
                        <div class="team-chip">Inco Network<span>Confidential computing L1</span></div>
                        <div class="team-chip">Arcium<span>Parallelized confidential computing</span></div>
                        <div class="team-chip">Mind Network<span>FHE restaking layer</span></div>
                    </div>
                    <p class="sub-text" style="margin-top:24px; font-size:18px;">We'd like PSE's perspective on which teams are most aligned for FHE research collaboration in the Ethereum ecosystem.</p>
                    <div class="ref">
                        <a href="https://pse.dev">pse.dev</a> | Privacy & Scaling Explorations, Ethereum Foundation
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
